{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// console.log(\"Form\");\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst textarea = form.querySelector(\"textarea\");\nconst input = form.querySelector(\"input[name='email']\");\n\nform.addEventListener(\"submit\", handleSubmit);\nform.addEventListener(\"input\", handleInput);\n\ncheckLocalStorage();\n\nfunction handleSubmit(event){\n    event.preventDefault();\n\n    const currentFormState = getFeedbackFormState();\nconsole.log(currentFormState);\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n\n}\n\nfunction handleInput(event){\n    const el = event.target\n    const elName = el.name;\n    const elValue = el.value.trim()\n\n    const previousFormState = getFeedbackFormState()\n    const newFormState = JSON.stringify({...previousFormState, [elName]: elValue})\n\n    localStorage.setItem(STORAGE_KEY, newFormState);\n}\n\n\n function getFeedbackFormState() {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n \n    return data\n}\n \n\nfunction checkLocalStorage() {\nif(!getFeedbackFormState()) return;\n    \nconst {email, message} = getFeedbackFormState()\n\nif (email) {\n    input.value = email;\n}\nif (message) {\n    textarea.value = message\n}\n}\n\n\n"],"names":["STORAGE_KEY","form","textarea","input","handleSubmit","handleInput","checkLocalStorage","event","currentFormState","getFeedbackFormState","el","elName","elValue","previousFormState","newFormState","email","message"],"mappings":"oCAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EACxCE,EAAQF,EAAK,cAAc,qBAAqB,EAEtDA,EAAK,iBAAiB,SAAUG,CAAY,EAC5CH,EAAK,iBAAiB,QAASI,CAAW,EAE1CC,IAEA,SAASF,EAAaG,EAAM,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAmBC,IAC7B,QAAQ,IAAID,CAAgB,EACxBD,EAAM,cAAc,QACpB,aAAa,WAAWP,CAAW,CAEvC,CAEA,SAASK,EAAYE,EAAM,CACvB,MAAMG,EAAKH,EAAM,OACXI,EAASD,EAAG,KACZE,EAAUF,EAAG,MAAM,KAAM,EAEzBG,EAAoBJ,EAAsB,EAC1CK,EAAe,KAAK,UAAU,CAAC,GAAGD,EAAmB,CAACF,CAAM,EAAGC,CAAO,CAAC,EAE7E,aAAa,QAAQZ,EAAac,CAAY,CAClD,CAGC,SAASL,GAAuB,CAG7B,OAFa,KAAK,MAAM,aAAa,QAAQT,CAAW,CAAC,CAG7D,CAGA,SAASM,GAAoB,CAC7B,GAAG,CAACG,EAAsB,EAAE,OAE5B,KAAM,CAAC,MAAAM,EAAO,QAAAC,CAAO,EAAIP,EAAsB,EAE3CM,IACAZ,EAAM,MAAQY,GAEdC,IACAd,EAAS,MAAQc,EAErB"}