{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// console.log(\"Form\");\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst textarea = form.querySelector(\"textarea\");\nconst input = form.querySelector(\"input[name='email']\");\n\nform.addEventListener(\"submit\", handleSubmit);\ntextarea.addEventListener(\"input\", onTextareaInput);\ninput.addEventListener(\"input\", handleEmailInput);\n\ncheckLocalStorage();\n\nfunction handleSubmit(event){\n    event.preventDefault();\n\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY)\n\n}\n\nfunction onTextareaInput(event){\n    const message = event.target.value\n    const previousFormState = getFeedbackFormState()\n    const newFormState = JSON.stringify({...previousFormState, message})\n\n    localStorage.setItem(STORAGE_KEY, newFormState);\n}\n\nfunction handleEmailInput(event){\n    const email = event.target.value;\n    const previousFormState = getFeedbackFormState()\n    const newFormState = JSON.stringify({...previousFormState, email})\n\n    localStorage.setItem(STORAGE_KEY, newFormState)\n}\n\n function getFeedbackFormState() {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n \n    return data\n}\n \n\nfunction checkLocalStorage() {\nif(!getFeedbackFormState()) return;\n    \nconst {email, message} = getFeedbackFormState()\n\nif (email) {\n    input.value = email;\n}\nif (message) {\n    textarea.value = message\n}\n}\n\n\n"],"names":["STORAGE_KEY","form","textarea","input","handleSubmit","onTextareaInput","handleEmailInput","checkLocalStorage","event","message","previousFormState","getFeedbackFormState","newFormState","email"],"mappings":"oCAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EACxCE,EAAQF,EAAK,cAAc,qBAAqB,EAEtDA,EAAK,iBAAiB,SAAUG,CAAY,EAC5CF,EAAS,iBAAiB,QAASG,CAAe,EAClDF,EAAM,iBAAiB,QAASG,CAAgB,EAEhDC,IAEA,SAASH,EAAaI,EAAM,CACxBA,EAAM,eAAc,EAEpBA,EAAM,cAAc,QACpB,aAAa,WAAWR,CAAW,CAEvC,CAEA,SAASK,EAAgBG,EAAM,CAC3B,MAAMC,EAAUD,EAAM,OAAO,MACvBE,EAAoBC,EAAsB,EAC1CC,EAAe,KAAK,UAAU,CAAC,GAAGF,EAAmB,QAAAD,CAAO,CAAC,EAEnE,aAAa,QAAQT,EAAaY,CAAY,CAClD,CAEA,SAASN,EAAiBE,EAAM,CAC5B,MAAMK,EAAQL,EAAM,OAAO,MACrBE,EAAoBC,EAAsB,EAC1CC,EAAe,KAAK,UAAU,CAAC,GAAGF,EAAmB,MAAAG,CAAK,CAAC,EAEjE,aAAa,QAAQb,EAAaY,CAAY,CAClD,CAEC,SAASD,GAAuB,CAG7B,OAFa,KAAK,MAAM,aAAa,QAAQX,CAAW,CAAC,CAG7D,CAGA,SAASO,GAAoB,CAC7B,GAAG,CAACI,EAAsB,EAAE,OAE5B,KAAM,CAAC,MAAAE,EAAO,QAAAJ,CAAO,EAAIE,EAAsB,EAE3CE,IACAV,EAAM,MAAQU,GAEdJ,IACAP,EAAS,MAAQO,EAErB"}